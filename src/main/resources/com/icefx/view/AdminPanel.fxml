<?xml version="1.0" encoding="UTF-8"?><?xml version="1.0" encoding="UTF-8"?><?xml version="1.0" encoding="UTF-8"?>



<?import javafx.geometry.Insets?>

<?import javafx.scene.control.*?>

<?import javafx.scene.layout.*?><?import javafx.geometry.Insets?><?import javafx.geometry.Insets?>



<BorderPane xmlns="http://javafx.com/javafx/23.0.1"<?import javafx.scene.control.*?><?import javafx.scene.control.*?>

            xmlns:fx="http://javafx.com/fxml/1"

            fx:controller="com.icefx.controller.AdminController"<?import javafx.scene.layout.*?><?import javafx.scene.layout.*?>

            prefHeight="950.0" prefWidth="1800.0"

            stylesheets="@../styles/enterprise-theme.css"><?import javafx.scene.text.Font?>

    

    <!-- Top: Header with Logout --><BorderPane xmlns="http://javafx.com/javafx/23.0.1"

    <top>

        <HBox styleClass="header" alignment="CENTER_LEFT" spacing="24"><BorderPane xmlns="http://javafx.com/javafx/23.0.1"            xmlns:fx="http://javafx.com/fxml/1"

            <Label text="IceFX Attendance" styleClass="app-title"/>

            <Label text="‚Ä¢" style="-fx-text-fill: #BDBDBD; -fx-font-size: 20px;"/>            xmlns:fx="http://javafx.com/fxml/1"            fx:controller="com.icefx.controller.AdminController"

            <Label text="Admin Panel" styleClass="app-title" style="-fx-text-fill: #757575;"/>

                        fx:controller="com.icefx.controller.AdminController"            prefHeight="900.0" prefWidth="1600.0"

            <Region HBox.hgrow="ALWAYS"/>

                        prefHeight="950.0" prefWidth="1800.0"            styleClass="root">

            <VBox alignment="CENTER_RIGHT" spacing="4">

                <Label fx:id="currentUserLabel" text="Administrator" styleClass="user-info" style="-fx-font-weight: 600;"/>            stylesheets="@../styles/enterprise-theme.css">    

                <Label text="Admin Access" styleClass="user-info" style="-fx-font-size: 12px;"/>

            </VBox>        <!-- Top: Header -->

            

            <Separator orientation="VERTICAL" prefHeight="40"/>    <!-- Top: Header with Logout -->    <top>

            

            <Button text="Logout"     <top>        <VBox styleClass="dashboard-header">

                   onAction="#handleLogout"

                   styleClass="header, logout-button">        <HBox styleClass="header" alignment="CENTER_LEFT" spacing="24">            <HBox alignment="CENTER_LEFT" styleClass="gap-4">

                <graphic>

                    <Label text="üö™" style="-fx-font-size: 16px;"/>            <Label text="IceFX Attendance" styleClass="app-title"/>                <Label text="IceFX Attendance System" 

                </graphic>

            </Button>            <Label text="‚Ä¢" style="-fx-text-fill: #BDBDBD; -fx-font-size: 20px;"/>                      style="-fx-text-fill: white; -fx-font-size: 26px; -fx-font-weight: 700;"/>

        </HBox>

    </top>            <Label text="Admin Panel" styleClass="app-title" style="-fx-text-fill: #757575;"/>                <Region HBox.hgrow="ALWAYS"/>

    

    <!-- Center: Main Content -->                            <Label text="Admin Panel" 

    <center>

        <HBox spacing="24" style="-fx-padding: 24;">            <Region HBox.hgrow="ALWAYS"/>                      style="-fx-text-fill: #e3f2fd; -fx-font-size: 18px; -fx-font-weight: 600;"/>

            

            <!-- Left Panel: User Management Table -->                        </HBox>

            <VBox spacing="24" prefWidth="1050" HBox.hgrow="ALWAYS">

                            <VBox alignment="CENTER_RIGHT" spacing="4">        </VBox>

                <!-- Statistics Cards Row -->

                <HBox spacing="16">                <Label fx:id="currentUserLabel" text="Administrator" styleClass="user-info" style="-fx-font-weight: 600;"/>    </top>

                    <!-- Total Users Card -->

                    <VBox styleClass="stat-card-success" spacing="8" HBox.hgrow="ALWAYS">                <Label text="Admin Access" styleClass="user-info" style="-fx-font-size: 12px;"/>    

                        <Label text="TOTAL USERS" styleClass="stat-label"/>

                        <Label fx:id="totalUsersLabel" text="0" styleClass="stat-value"/>            </VBox>    <!-- Center: Main Content -->

                        <Label text="Registered accounts" styleClass="stat-description"/>

                    </VBox>                <center>

                    

                    <!-- Active Users Card -->            <Separator orientation="VERTICAL" prefHeight="40"/>        <HBox styleClass="gap-4 m-4">

                    <VBox styleClass="stat-card-info" spacing="8" HBox.hgrow="ALWAYS">

                        <Label text="ACTIVE" styleClass="stat-label"/>                        

                        <Label fx:id="activeUsersLabel" text="0" styleClass="stat-value"/>

                        <Label text="Active users" styleClass="stat-description"/>            <Button text="Logout"             <!-- Left: User Management -->

                    </VBox>

                                       onAction="#handleLogout"            <VBox styleClass="gap-4" prefWidth="950" HBox.hgrow="ALWAYS">

                    <!-- Admins Card -->

                    <VBox styleClass="stat-card-warning" spacing="8" HBox.hgrow="ALWAYS">                   styleClass="header, logout-button">                

                        <Label text="ADMINS" styleClass="stat-label"/>

                        <Label fx:id="adminCountLabel" text="0" styleClass="stat-value"/>                <graphic>                <!-- Statistics Cards Row -->

                        <Label text="Administrator accounts" styleClass="stat-description"/>

                    </VBox>                    <Label text="üö™" style="-fx-font-size: 16px;"/>                <HBox styleClass="gap-3">

                </HBox>

                                </graphic>                    <!-- Total Users -->

                <!-- User Table Card -->

                <VBox styleClass="card" spacing="16" VBox.vgrow="ALWAYS">            </Button>                    <VBox styleClass="stat-card-success gap-1" HBox.hgrow="ALWAYS">

                    <!-- Table Header with Search -->

                    <HBox alignment="CENTER_LEFT" spacing="12">        </HBox>                        <Label text="Total Users" 

                        <Label text="üë•" style="-fx-font-size: 24px;"/>

                        <Label text="User Management" styleClass="card-title"/>    </top>                              style="-fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: 600;"/>

                        <Region HBox.hgrow="ALWAYS"/>

                                                    <Label fx:id="totalUsersLabel" text="0" 

                        <TextField fx:id="searchField" 

                                  promptText="üîç Search users..."     <!-- Center: Main Content -->                              style="-fx-text-fill: white; -fx-font-size: 38px; -fx-font-weight: 700;"/>

                                  prefWidth="280"

                                  styleClass="text-field"/>    <center>                        <Label text="Registered" 

                        

                        <ComboBox fx:id="roleFilterComboBox"         <HBox spacing="24" style="-fx-padding: 24;">                              style="-fx-text-fill: rgba(255,255,255,0.85); -fx-font-size: 12px;"/>

                                 prefWidth="140"

                                 styleClass="combo-box"/>                                </VBox>

                        

                        <Button text="Refresh"             <!-- Left Panel: User Management Table -->                    

                               onAction="#handleRefresh"

                               styleClass="button-info, button-sm">            <VBox spacing="24" prefWidth="1050" HBox.hgrow="ALWAYS">                    <!-- Active Users -->

                            <graphic>

                                <Label text="üîÑ" style="-fx-font-size: 14px;"/>                                    <VBox styleClass="stat-card-info gap-1" HBox.hgrow="ALWAYS">

                            </graphic>

                        </Button>                <!-- Statistics Cards Row -->                        <Label text="Active Users" 

                    </HBox>

                                    <HBox spacing="16">                              style="-fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: 600;"/>

                    <Separator/>

                                        <!-- Total Users Card -->                        <Label fx:id="activeUsersLabel" text="0" 

                    <!-- User Table -->

                    <TableView fx:id="userTable" VBox.vgrow="ALWAYS">                    <VBox styleClass="stat-card-success" spacing="8" HBox.hgrow="ALWAYS">                              style="-fx-text-fill: white; -fx-font-size: 38px; -fx-font-weight: 700;"/>

                        <columns>

                            <TableColumn fx:id="idColumn"                         <Label text="TOTAL USERS" styleClass="stat-label"/>                        <Label text="Active Status" 

                                        text="ID" 

                                        prefWidth="60"                        <Label fx:id="totalUsersLabel" text="0" styleClass="stat-value"/>                              style="-fx-text-fill: rgba(255,255,255,0.85); -fx-font-size: 12px;"/>

                                        sortable="true"/>

                            <TableColumn fx:id="userCodeColumn"                         <Label text="Registered accounts" styleClass="stat-description"/>                    </VBox>

                                        text="USER CODE" 

                                        prefWidth="140"                    </VBox>                    

                                        sortable="true"/>

                            <TableColumn fx:id="nameColumn"                                         <!-- Admin Count -->

                                        text="FULL NAME" 

                                        prefWidth="260"                    <!-- Active Users Card -->                    <VBox styleClass="stat-card-warning gap-1" HBox.hgrow="ALWAYS">

                                        sortable="true"/>

                            <TableColumn fx:id="emailColumn"                     <VBox styleClass="stat-card-info" spacing="8" HBox.hgrow="ALWAYS">                        <Label text="Administrators" 

                                        text="EMAIL" 

                                        prefWidth="240"                        <Label text="ACTIVE" styleClass="stat-label"/>                              style="-fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: 600;"/>

                                        sortable="true"/>

                            <TableColumn fx:id="roleColumn"                         <Label fx:id="activeUsersLabel" text="0" styleClass="stat-value"/>                        <Label fx:id="adminCountLabel" text="0" 

                                        text="ROLE" 

                                        prefWidth="120"                        <Label text="Active users" styleClass="stat-description"/>                              style="-fx-text-fill: white; -fx-font-size: 38px; -fx-font-weight: 700;"/>

                                        sortable="true"/>

                            <TableColumn fx:id="statusColumn"                     </VBox>                        <Label text="Admin Role" 

                                        text="STATUS" 

                                        prefWidth="100"                                                  style="-fx-text-fill: rgba(255,255,255,0.85); -fx-font-size: 12px;"/>

                                        sortable="true"/>

                            <TableColumn fx:id="createdColumn"                     <!-- Admins Card -->                    </VBox>

                                        text="CREATED" 

                                        prefWidth="120"                    <VBox styleClass="stat-card-warning" spacing="8" HBox.hgrow="ALWAYS">                </HBox>

                                        sortable="true"/>

                        </columns>                        <Label text="ADMINS" styleClass="stat-label"/>                

                        <placeholder>

                            <VBox alignment="CENTER" spacing="16" style="-fx-padding: 48;">                        <Label fx:id="adminCountLabel" text="0" styleClass="stat-value"/>                <!-- Search and Filter Card -->

                                <Label text="üë•" style="-fx-font-size: 64px; -fx-opacity: 0.3;"/>

                                <VBox alignment="CENTER" spacing="6">                        <Label text="Administrator accounts" styleClass="stat-description"/>                <HBox styleClass="card gap-3" alignment="CENTER_LEFT">

                                    <Label text="No Users Found" 

                                          style="-fx-font-size: 16px; -fx-font-weight: 600; -fx-text-fill: #616161;"/>                    </VBox>                    <TextField fx:id="searchField" 

                                    <Label text="Add a new user to get started" 

                                          styleClass="label-tertiary"                </HBox>                              promptText="üîç Search by user code, name, or email..." 

                                          style="-fx-font-size: 13px;"/>

                                </VBox>                                              HBox.hgrow="ALWAYS"

                            </VBox>

                        </placeholder>                <!-- User Table Card -->                              style="-fx-font-size: 14px; -fx-min-height: 40px;"/>

                    </TableView>

                                    <VBox styleClass="card" spacing="16" VBox.vgrow="ALWAYS">                    <ComboBox fx:id="roleFilterComboBox" 

                    <!-- Table Footer -->

                    <HBox spacing="16" alignment="CENTER_LEFT"                     <!-- Table Header with Search -->                             prefWidth="150"

                         style="-fx-background-color: #FAFAFA; -fx-padding: 12 16; -fx-background-radius: 6px;">

                        <Label text="Total Users:" styleClass="label-secondary" style="-fx-font-weight: 600;"/>                    <HBox alignment="CENTER_LEFT" spacing="12">                             style="-fx-font-size: 14px; -fx-min-height: 40px;"/>

                        <Label fx:id="userCountLabel" text="0" styleClass="label-bold" style="-fx-text-fill: #1976D2;"/>

                        <Region HBox.hgrow="ALWAYS"/>                        <Label text="üë•" style="-fx-font-size: 24px;"/>                    <Button text="üîÑ  Refresh" 

                        <Label text="Selected:" styleClass="label-secondary"/>

                        <Label fx:id="selectedUserLabel" text="None" styleClass="label-secondary"/>                        <Label text="User Management" styleClass="card-title"/>                           onAction="#handleRefresh"

                    </HBox>

                </VBox>                        <Region HBox.hgrow="ALWAYS"/>                           styleClass="button-info"

                

            </VBox>                                                   style="-fx-font-size: 14px; -fx-min-height: 40px;"/>

            

            <!-- Right Panel: User Form & Face Recognition -->                        <TextField fx:id="searchField"                 </HBox>

            <VBox spacing="24" prefWidth="680" HBox.hgrow="ALWAYS">

                                                  promptText="üîç Search users..."                 

                <!-- User Form Card -->

                <VBox styleClass="card" spacing="20">                                  prefWidth="280"                <!-- User Table Card -->

                    <HBox alignment="CENTER_LEFT" spacing="10">

                        <Label text="üìù" style="-fx-font-size: 20px;"/>                                  styleClass="text-field"/>                <VBox styleClass="card gap-3" VBox.vgrow="ALWAYS">

                        <Label text="User Details" styleClass="card-title" style="-fx-font-size: 18px;"/>

                    </HBox>                                            <Label text="User Management" 

                    

                    <Separator/>                        <ComboBox fx:id="roleFilterComboBox"                           style="-fx-font-size: 20px; -fx-font-weight: 700; -fx-text-fill: #212121;"/>

                    

                    <GridPane hgap="16" vgap="16">                                 prefWidth="140"                    <Separator/>

                        <columnConstraints>

                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="160"/>                                 styleClass="combo-box"/>                    

                            <ColumnConstraints hgrow="ALWAYS" minWidth="200"/>

                        </columnConstraints>                                            <TableView fx:id="userTable" VBox.vgrow="ALWAYS">

                        

                        <!-- User Code -->                        <Button text="Refresh"                         <columns>

                        <Label text="User Code:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="0"/>

                        <TextField fx:id="userCodeField"                                onAction="#handleRefresh"                            <TableColumn fx:id="idColumn" 

                                  promptText="e.g. STU001" 

                                  GridPane.columnIndex="1" GridPane.rowIndex="0"/>                               styleClass="button-info, button-sm">                                        text="ID" 

                        

                        <!-- Full Name -->                            <graphic>                                        prefWidth="60"

                        <Label text="Full Name:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="1"/>

                        <TextField fx:id="nameField"                                 <Label text="üîÑ" style="-fx-font-size: 14px;"/>                                        sortable="true"/>

                                  promptText="Enter full name" 

                                  GridPane.columnIndex="1" GridPane.rowIndex="1"/>                            </graphic>                            <TableColumn fx:id="userCodeColumn" 

                        

                        <!-- Email -->                        </Button>                                        text="User Code" 

                        <Label text="Email:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="2"/>

                        <TextField fx:id="emailField"                     </HBox>                                        prefWidth="130"

                                  promptText="email@example.com" 

                                  GridPane.columnIndex="1" GridPane.rowIndex="2"/>                                                            sortable="true"/>

                        

                        <!-- Password -->                    <Separator/>                            <TableColumn fx:id="nameColumn" 

                        <Label text="Password:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="3"/>

                        <PasswordField fx:id="passwordField"                                                             text="Full Name" 

                                      promptText="Enter password" 

                                      GridPane.columnIndex="1" GridPane.rowIndex="3"/>                    <!-- User Table -->                                        prefWidth="240"

                        

                        <!-- Role -->                    <TableView fx:id="userTable" VBox.vgrow="ALWAYS">                                        sortable="true"/>

                        <Label text="Role:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="4"/>

                        <ComboBox fx:id="roleComboBox"                         <columns>                            <TableColumn fx:id="emailColumn" 

                                 prefWidth="200" 

                                 GridPane.columnIndex="1" GridPane.rowIndex="4"/>                            <TableColumn fx:id="idColumn"                                         text="Email Address" 

                        

                        <!-- Status -->                                        text="ID"                                         prefWidth="260"

                        <Label text="Status:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="5"/>

                        <ComboBox fx:id="statusComboBox"                                         prefWidth="60"                                        sortable="true"/>

                                 prefWidth="200" 

                                 GridPane.columnIndex="1" GridPane.rowIndex="5"/>                                        sortable="true"/>                            <TableColumn fx:id="roleColumn" 

                    </GridPane>

                                                <TableColumn fx:id="userCodeColumn"                                         text="Role" 

                    <!-- Action Buttons -->

                    <HBox spacing="12" alignment="CENTER">                                        text="USER CODE"                                         prefWidth="100"

                        <Button text="Add User" 

                               onAction="#handleAdd"                                        prefWidth="140"                                        sortable="true"/>

                               styleClass="button-success, button-lg"

                               prefWidth="160">                                        sortable="true"/>                            <TableColumn fx:id="statusColumn" 

                            <graphic>

                                <Label text="‚ûï" style="-fx-font-size: 14px;"/>                            <TableColumn fx:id="nameColumn"                                         text="Status" 

                            </graphic>

                        </Button>                                        text="FULL NAME"                                         prefWidth="100"

                        

                        <Button text="Update User"                                         prefWidth="260"                                        sortable="true"/>

                               onAction="#handleUpdate"

                               styleClass="button-primary, button-lg"                                        sortable="true"/>                        </columns>

                               prefWidth="160">

                            <graphic>                            <TableColumn fx:id="emailColumn"                         <placeholder>

                                <Label text="üíæ" style="-fx-font-size: 14px;"/>

                            </graphic>                                        text="EMAIL"                             <VBox alignment="CENTER" styleClass="gap-2 m-5">

                        </Button>

                                                                prefWidth="240"                                <Label text="üë•" style="-fx-font-size: 48px;"/>

                        <Button text="Delete User" 

                               onAction="#handleDelete"                                        sortable="true"/>                                <Label text="No users found" 

                               styleClass="button-danger, button-lg"

                               prefWidth="160">                            <TableColumn fx:id="roleColumn"                                       styleClass="label-tertiary"

                            <graphic>

                                <Label text="üóë" style="-fx-font-size: 14px;"/>                                        text="ROLE"                                       style="-fx-font-size: 15px;"/>

                            </graphic>

                        </Button>                                        prefWidth="120"                                <Label text="Add a new user to get started" 

                    </HBox>

                                                            sortable="true"/>                                      styleClass="label-tertiary"

                    <HBox alignment="CENTER">

                        <Button text="Clear Form"                             <TableColumn fx:id="statusColumn"                                       style="-fx-font-size: 13px;"/>

                               onAction="#handleClear"

                               styleClass="button, button-sm"                                        text="STATUS"                             </VBox>

                               prefWidth="140">

                            <graphic>                                        prefWidth="100"                        </placeholder>

                                <Label text="‚úñ" style="-fx-font-size: 12px;"/>

                            </graphic>                                        sortable="true"/>                    </TableView>

                        </Button>

                    </HBox>                            <TableColumn fx:id="createdColumn"                 </VBox>

                </VBox>

                                                        text="CREATED"                 

                <!-- Face Recognition Card -->

                <VBox styleClass="card" spacing="16" VBox.vgrow="ALWAYS">                                        prefWidth="120"            </VBox>

                    <HBox alignment="CENTER_LEFT" spacing="10">

                        <Label text="ü§ñ" style="-fx-font-size: 20px;"/>                                        sortable="true"/>            

                        <Label text="Face Recognition Model" styleClass="card-title" style="-fx-font-size: 18px;"/>

                    </HBox>                        </columns>            <!-- Right: User Form and Face Training -->

                    

                    <Separator/>                        <placeholder>            <VBox styleClass="gap-4" prefWidth="600">

                    

                    <VBox spacing="12">                            <VBox alignment="CENTER" spacing="16" style="-fx-padding: 48;">                

                        <HBox spacing="12" alignment="CENTER_LEFT">

                            <Label text="Model Status:" styleClass="label-bold" prefWidth="120"/>                                <Label text="üë•" style="-fx-font-size: 64px; -fx-opacity: 0.3;"/>                <!-- User Details Form Card -->

                            <Label fx:id="modelStatusLabel" 

                                  text="Not Loaded"                                 <VBox alignment="CENTER" spacing="6">                <VBox styleClass="card gap-3">

                                  styleClass="badge, badge-warning"

                                  style="-fx-padding: 6 16;"/>                                    <Label text="No Users Found"                     <Label text="User Details" 

                        </HBox>

                                                                  style="-fx-font-size: 16px; -fx-font-weight: 600; -fx-text-fill: #616161;"/>                          style="-fx-font-size: 20px; -fx-font-weight: 700; -fx-text-fill: #212121;"/>

                        <HBox spacing="12" alignment="CENTER_LEFT">

                            <Label text="Total Faces:" styleClass="label-bold" prefWidth="120"/>                                    <Label text="Add a new user to get started"                     <Separator/>

                            <Label fx:id="totalFacesLabel" 

                                  text="0"                                           styleClass="label-tertiary"                    

                                  style="-fx-font-size: 16px; -fx-text-fill: #1976D2; -fx-font-weight: 600;"/>

                        </HBox>                                          style="-fx-font-size: 13px;"/>                    <!-- User Code -->

                        

                        <HBox spacing="12" alignment="CENTER_LEFT">                                </VBox>                    <VBox styleClass="gap-2">

                            <Label text="Last Trained:" styleClass="label-bold" prefWidth="120"/>

                            <Label fx:id="lastTrainedLabel"                             </VBox>                        <Label text="User Code *" styleClass="field-label"/>

                                  text="Never" 

                                  styleClass="label-secondary"/>                        </placeholder>                        <TextField fx:id="userCodeField" 

                        </HBox>

                    </VBox>                    </TableView>                                  promptText="e.g., 2021-001 or ADMIN001"

                    

                    <Separator/>                                                      style="-fx-font-size: 14px;"/>

                    

                    <!-- Training Info -->                    <!-- Table Footer -->                    </VBox>

                    <VBox spacing="8" 

                         style="-fx-background-color: #E3F2FD; -fx-padding: 16; -fx-background-radius: 8px;">                    <HBox spacing="16" alignment="CENTER_LEFT"                     

                        <Label text="üí° Training Information" 

                              style="-fx-font-weight: 600; -fx-text-fill: #1976D2; -fx-font-size: 13px;"/>                         style="-fx-background-color: #FAFAFA; -fx-padding: 12 16; -fx-background-radius: 6px;">                    <!-- Full Name -->

                        <Label text="Training creates a face recognition model from user profile images." 

                              wrapText="true"                        <Label text="Total Users:" styleClass="label-secondary" style="-fx-font-weight: 600;"/>                    <VBox styleClass="gap-2">

                              styleClass="label-secondary"

                              style="-fx-font-size: 12px;"/>                        <Label fx:id="userCountLabel" text="0" styleClass="label-bold" style="-fx-text-fill: #1976D2;"/>                        <Label text="Full Name *" styleClass="field-label"/>

                        <Label text="‚Ä¢ Ensure all users have profile pictures uploaded" 

                              styleClass="label-secondary"                        <Region HBox.hgrow="ALWAYS"/>                        <TextField fx:id="nameField" 

                              style="-fx-font-size: 12px;"/>

                        <Label text="‚Ä¢ Training may take a few minutes depending on data size"                         <Label text="Selected:" styleClass="label-secondary"/>                                  promptText="Enter full name"

                              styleClass="label-secondary"

                              style="-fx-font-size: 12px;"/>                        <Label fx:id="selectedUserLabel" text="None" styleClass="label-secondary"/>                                  style="-fx-font-size: 14px;"/>

                    </VBox>

                                        </HBox>                    </VBox>

                    <!-- Training Button -->

                    <Button text="Train Model"                 </VBox>                    

                           onAction="#handleTrainModel"

                           styleClass="button-info, button-lg"                                    <!-- Email -->

                           prefWidth="200"

                           style="-fx-alignment: center;">            </VBox>                    <VBox styleClass="gap-2">

                        <graphic>

                            <Label text="üéì" style="-fx-font-size: 16px;"/>                                    <Label text="Email Address" styleClass="field-label"/>

                        </graphic>

                    </Button>            <!-- Right Panel: User Form & Face Recognition -->                        <TextField fx:id="emailField" 

                    

                    <!-- Training Progress -->            <VBox spacing="24" prefWidth="680" HBox.hgrow="ALWAYS">                                  promptText="email@example.com"

                    <VBox fx:id="trainingProgressBox" 

                         spacing="8"                                                   style="-fx-font-size: 14px;"/>

                         visible="false"

                         style="-fx-background-color: #FFF3E0; -fx-padding: 16; -fx-background-radius: 8px;">                <!-- User Form Card -->                    </VBox>

                        <HBox spacing="8" alignment="CENTER_LEFT">

                            <ProgressIndicator maxWidth="24" maxHeight="24"/>                <VBox styleClass="card" spacing="20">                    

                            <Label text="Training in progress..." 

                                  style="-fx-font-weight: 600; -fx-text-fill: #F57C00;"/>                    <HBox alignment="CENTER_LEFT" spacing="10">                    <!-- Password -->

                        </HBox>

                        <ProgressBar fx:id="trainingProgress"                         <Label text="üìù" style="-fx-font-size: 20px;"/>                    <VBox styleClass="gap-2">

                                    prefWidth="Infinity"/>

                        <Label fx:id="trainingStatusLabel"                         <Label text="User Details" styleClass="card-title" style="-fx-font-size: 18px;"/>                        <Label text="Password *" styleClass="field-label"/>

                              text="Initializing..." 

                              styleClass="label-secondary"                    </HBox>                        <PasswordField fx:id="passwordField" 

                              style="-fx-font-size: 12px;"/>

                    </VBox>                                                          promptText="Leave blank to keep current password"

                </VBox>

                                    <Separator/>                                      style="-fx-font-size: 14px;"/>

            </VBox>

                                                    </VBox>

        </HBox>

    </center>                    <GridPane hgap="16" vgap="16">                    

    

    <!-- Bottom: Professional Footer -->                        <columnConstraints>                    <!-- Role -->

    <bottom>

        <HBox alignment="CENTER"                             <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="160"/>                    <VBox styleClass="gap-2">

             spacing="24" 

             style="-fx-background-color: #FAFAFA; -fx-padding: 16 32; -fx-border-color: #E0E0E0 transparent transparent transparent; -fx-border-width: 1 0 0 0;">                            <ColumnConstraints hgrow="ALWAYS" minWidth="200"/>                        <Label text="Role *" styleClass="field-label"/>

            <Label text="IceFX Admin Panel v3.0" 

                  style="-fx-font-size: 12px; -fx-text-fill: #757575; -fx-font-weight: 600;"/>                        </columnConstraints>                        <ComboBox fx:id="roleComboBox" 

            <Separator orientation="VERTICAL" prefHeight="16"/>

            <Label text="User & Model Management System"                                                          maxWidth="Infinity"

                  style="-fx-font-size: 12px; -fx-text-fill: #9E9E9E;"/>

            <Region HBox.hgrow="ALWAYS"/>                        <!-- User Code -->                                 style="-fx-font-size: 14px;"/>

            <HBox spacing="8" alignment="CENTER">

                <Label text="‚óè"                         <Label text="User Code:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="0"/>                    </VBox>

                      style="-fx-text-fill: #4CAF50; -fx-font-size: 14px;"/>

                <Label text="Admin Access Active"                         <TextField fx:id="userCodeField"                     

                      style="-fx-font-size: 12px; -fx-text-fill: #4CAF50; -fx-font-weight: 600;"/>

            </HBox>                                  promptText="e.g. STU001"                     <!-- Status -->

        </HBox>

    </bottom>                                  GridPane.columnIndex="1" GridPane.rowIndex="0"/>                    <VBox styleClass="gap-2">

    

</BorderPane>                                                <Label text="Status" styleClass="field-label"/>


                        <!-- Full Name -->                        <ComboBox fx:id="statusComboBox" 

                        <Label text="Full Name:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="1"/>                                 maxWidth="Infinity"

                        <TextField fx:id="nameField"                                  style="-fx-font-size: 14px;"/>

                                  promptText="Enter full name"                     </VBox>

                                  GridPane.columnIndex="1" GridPane.rowIndex="1"/>                    

                                            <Separator/>

                        <!-- Email -->                    

                        <Label text="Email:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="2"/>                    <!-- Action Buttons Grid -->

                        <TextField fx:id="emailField"                     <GridPane hgap="10" vgap="10">

                                  promptText="email@example.com"                         <columnConstraints>

                                  GridPane.columnIndex="1" GridPane.rowIndex="2"/>                            <ColumnConstraints percentWidth="50"/>

                                                    <ColumnConstraints percentWidth="50"/>

                        <!-- Password -->                        </columnConstraints>

                        <Label text="Password:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="3"/>                        

                        <PasswordField fx:id="passwordField"                         <Button fx:id="addButton" 

                                      promptText="Enter password"                                text="‚ûï  Add User" 

                                      GridPane.columnIndex="1" GridPane.rowIndex="3"/>                               onAction="#handleAdd"

                                                       maxWidth="Infinity"

                        <!-- Role -->                               styleClass="button-success"

                        <Label text="Role:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="4"/>                               style="-fx-font-size: 14px; -fx-min-height: 44px;"

                        <ComboBox fx:id="roleComboBox"                                GridPane.columnIndex="0" GridPane.rowIndex="0"/>

                                 prefWidth="200"                         

                                 GridPane.columnIndex="1" GridPane.rowIndex="4"/>                        <Button fx:id="updateButton" 

                                                       text="‚úèÔ∏è  Update" 

                        <!-- Status -->                               onAction="#handleUpdate"

                        <Label text="Status:" styleClass="label-bold" GridPane.columnIndex="0" GridPane.rowIndex="5"/>                               maxWidth="Infinity"

                        <ComboBox fx:id="statusComboBox"                                styleClass="button-info"

                                 prefWidth="200"                                style="-fx-font-size: 14px; -fx-min-height: 44px;"

                                 GridPane.columnIndex="1" GridPane.rowIndex="5"/>                               GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    </GridPane>                        

                                            <Button fx:id="deleteButton" 

                    <!-- Action Buttons -->                               text="üóëÔ∏è  Delete" 

                    <HBox spacing="12" alignment="CENTER">                               onAction="#handleDelete"

                        <Button text="Add User"                                maxWidth="Infinity"

                               onAction="#handleAdd"                               styleClass="button-danger"

                               styleClass="button-success, button-lg"                               style="-fx-font-size: 14px; -fx-min-height: 44px;"

                               prefWidth="160">                               GridPane.columnIndex="0" GridPane.rowIndex="1"/>

                            <graphic>                        

                                <Label text="‚ûï" style="-fx-font-size: 14px;"/>                        <Button fx:id="clearButton" 

                            </graphic>                               text="üîÑ  Clear Form" 

                        </Button>                               onAction="#handleClear"

                                                       maxWidth="Infinity"

                        <Button text="Update User"                                styleClass="button"

                               onAction="#handleUpdate"                               style="-fx-font-size: 14px; -fx-min-height: 44px; -fx-background-color: #757575; -fx-text-fill: white; -fx-border-color: transparent;"

                               styleClass="button-primary, button-lg"                               GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                               prefWidth="160">                    </GridPane>

                            <graphic>                    

                                <Label text="üíæ" style="-fx-font-size: 14px;"/>                    <Label text="* Required fields" 

                            </graphic>                          styleClass="label-tertiary"

                        </Button>                          style="-fx-font-size: 12px; -fx-font-style: italic;"/>

                                        </VBox>

                        <Button text="Delete User"                 

                               onAction="#handleDelete"                <!-- Face Recognition Model Card -->

                               styleClass="button-danger, button-lg"                <VBox styleClass="card gap-3">

                               prefWidth="160">                    <Label text="Face Recognition Model" 

                            <graphic>                          style="-fx-font-size: 20px; -fx-font-weight: 700; -fx-text-fill: #212121;"/>

                                <Label text="üóë" style="-fx-font-size: 14px;"/>                    <Separator/>

                            </graphic>                    

                        </Button>                    <!-- Model Status -->

                    </HBox>                    <HBox alignment="CENTER_LEFT" styleClass="gap-3">

                                            <Label text="Model Status:" 

                    <HBox alignment="CENTER">                              style="-fx-font-size: 14px; -fx-font-weight: 600;"/>

                        <Button text="Clear Form"                         <Label fx:id="modelStatusLabel" 

                               onAction="#handleClear"                              text="‚úó No Model Loaded" 

                               styleClass="button, button-sm"                              style="-fx-font-size: 14px; -fx-text-fill: #f44336; -fx-font-weight: 600;"/>

                               prefWidth="140">                    </HBox>

                            <graphic>                    

                                <Label text="‚úñ" style="-fx-font-size: 12px;"/>                    <!-- Training Progress -->

                            </graphic>                    <VBox styleClass="gap-2">

                        </Button>                        <Label fx:id="trainingStatusLabel" 

                    </HBox>                              text="Ready to train model" 

                </VBox>                              styleClass="label-tertiary"

                                              style="-fx-font-size: 13px;"/>

                <!-- Face Recognition Card -->                        <ProgressBar fx:id="trainingProgressBar" 

                <VBox styleClass="card" spacing="16" VBox.vgrow="ALWAYS">                                    maxWidth="Infinity" 

                    <HBox alignment="CENTER_LEFT" spacing="10">                                    visible="false"

                        <Label text="ü§ñ" style="-fx-font-size: 20px;"/>                                    prefHeight="8"/>

                        <Label text="Face Recognition Model" styleClass="card-title" style="-fx-font-size: 18px;"/>                    </VBox>

                    </HBox>                    

                                        <Separator/>

                    <Separator/>                    

                                        <!-- Training Action Buttons -->

                    <VBox spacing="12">                    <VBox styleClass="gap-3">

                        <HBox spacing="12" alignment="CENTER_LEFT">                        <Button fx:id="trainButton" 

                            <Label text="Model Status:" styleClass="label-bold" prefWidth="120"/>                               text="üéì  Train Model" 

                            <Label fx:id="modelStatusLabel"                                onAction="#handleTrainModel"

                                  text="Not Loaded"                                maxWidth="Infinity"

                                  styleClass="badge, badge-warning"                               styleClass="button-success"

                                  style="-fx-padding: 6 16;"/>                               style="-fx-font-size: 15px; -fx-min-height: 48px;"/>

                        </HBox>                        

                                                <HBox styleClass="gap-3">

                        <HBox spacing="12" alignment="CENTER_LEFT">                            <Button fx:id="loadModelButton" 

                            <Label text="Total Faces:" styleClass="label-bold" prefWidth="120"/>                                   text="üìÇ  Load Model" 

                            <Label fx:id="totalFacesLabel"                                    onAction="#handleLoadModel"

                                  text="0"                                    HBox.hgrow="ALWAYS"

                                  style="-fx-font-size: 16px; -fx-text-fill: #1976D2; -fx-font-weight: 600;"/>                                   maxWidth="Infinity"

                        </HBox>                                   styleClass="button-info"

                                                           style="-fx-font-size: 14px; -fx-min-height: 44px;"/>

                        <HBox spacing="12" alignment="CENTER_LEFT">                            

                            <Label text="Last Trained:" styleClass="label-bold" prefWidth="120"/>                            <Button fx:id="saveModelButton" 

                            <Label fx:id="lastTrainedLabel"                                    text="üíæ  Save Model" 

                                  text="Never"                                    onAction="#handleSaveModel"

                                  styleClass="label-secondary"/>                                   HBox.hgrow="ALWAYS"

                        </HBox>                                   maxWidth="Infinity"

                    </VBox>                                   styleClass="button-warning"

                                                       style="-fx-font-size: 14px; -fx-min-height: 44px;"/>

                    <Separator/>                        </HBox>

                                        </VBox>

                    <!-- Training Info -->                    

                    <VBox spacing="8"                     <!-- Training Instructions -->

                         style="-fx-background-color: #E3F2FD; -fx-padding: 16; -fx-background-radius: 8px;">                    <VBox styleClass="info-message gap-2">

                        <Label text="üí° Training Information"                         <Label text="üìñ Training Instructions" 

                              style="-fx-font-weight: 600; -fx-text-fill: #1976D2; -fx-font-size: 13px;"/>                              style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #1565c0;"/>

                        <Label text="Training creates a face recognition model from user profile images."                         <Label text="1. Organize face images in folders by User ID" 

                              wrapText="true"                              wrapText="true" 

                              styleClass="label-secondary"                              style="-fx-font-size: 12px; -fx-text-fill: #1565c0;"/>

                              style="-fx-font-size: 12px;"/>                        <Label text="2. Click 'Train Model' and select the directory" 

                        <Label text="‚Ä¢ Ensure all users have profile pictures uploaded"                               wrapText="true" 

                              styleClass="label-secondary"                              style="-fx-font-size: 12px; -fx-text-fill: #1565c0;"/>

                              style="-fx-font-size: 12px;"/>                        <Label text="3. Wait for training to complete" 

                        <Label text="‚Ä¢ Training may take a few minutes depending on data size"                               wrapText="true" 

                              styleClass="label-secondary"                              style="-fx-font-size: 12px; -fx-text-fill: #1565c0;"/>

                              style="-fx-font-size: 12px;"/>                        <Label text="4. Save the trained model for future use" 

                    </VBox>                              wrapText="true" 

                                                  style="-fx-font-size: 12px; -fx-text-fill: #1565c0;"/>

                    <!-- Training Button -->                    </VBox>

                    <Button text="Train Model"                 </VBox>

                           onAction="#handleTrainModel"                

                           styleClass="button-info, button-lg"            </VBox>

                           prefWidth="200"            

                           style="-fx-alignment: center;">        </HBox>

                        <graphic>    </center>

                            <Label text="üéì" style="-fx-font-size: 16px;"/>    

                        </graphic>    <!-- Bottom: Footer -->

                    </Button>    <bottom>

                            <HBox styleClass="panel-footer gap-4" alignment="CENTER">

                    <!-- Training Progress -->            <Label text="Admin Panel" styleClass="version-label"/>

                    <VBox fx:id="trainingProgressBox"             <Separator orientation="VERTICAL"/>

                         spacing="8"             <Label text="User Management &amp; Face Training" styleClass="version-label"/>

                         visible="false"            <Region HBox.hgrow="ALWAYS"/>

                         style="-fx-background-color: #FFF3E0; -fx-padding: 16; -fx-background-radius: 8px;">            <Label text="Version 3.0" styleClass="version-label"/>

                        <HBox spacing="8" alignment="CENTER_LEFT">        </HBox>

                            <ProgressIndicator maxWidth="24" maxHeight="24"/>    </bottom>

                            <Label text="Training in progress..."     

                                  style="-fx-font-weight: 600; -fx-text-fill: #F57C00;"/></BorderPane>

                        </HBox>
                        <ProgressBar fx:id="trainingProgress" 
                                    prefWidth="Infinity"/>
                        <Label fx:id="trainingStatusLabel" 
                              text="Initializing..." 
                              styleClass="label-secondary"
                              style="-fx-font-size: 12px;"/>
                    </VBox>
                </VBox>
                
            </VBox>
            
        </HBox>
    </center>
    
    <!-- Bottom: Professional Footer -->
    <bottom>
        <HBox alignment="CENTER" 
             spacing="24" 
             style="-fx-background-color: #FAFAFA; -fx-padding: 16 32; -fx-border-color: #E0E0E0 transparent transparent transparent; -fx-border-width: 1 0 0 0;">
            <Label text="IceFX Admin Panel v3.0" 
                  style="-fx-font-size: 12px; -fx-text-fill: #757575; -fx-font-weight: 600;"/>
            <Separator orientation="VERTICAL" prefHeight="16"/>
            <Label text="User & Model Management System" 
                  style="-fx-font-size: 12px; -fx-text-fill: #9E9E9E;"/>
            <Region HBox.hgrow="ALWAYS"/>
            <HBox spacing="8" alignment="CENTER">
                <Label text="‚óè" 
                      style="-fx-text-fill: #4CAF50; -fx-font-size: 14px;"/>
                <Label text="Admin Access Active" 
                      style="-fx-font-size: 12px; -fx-text-fill: #4CAF50; -fx-font-weight: 600;"/>
            </HBox>
        </HBox>
    </bottom>
    
</BorderPane>
