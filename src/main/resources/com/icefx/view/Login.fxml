<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<StackPane xmlns="http://javafx.com/javafx/23" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.icefx.controller.LoginController"
           styleClass="root-container"
           stylesheets="@../styles/enterprise-theme.css">

    <!-- Background -->
    <VBox alignment="CENTER" spacing="0" style="-fx-background-color: linear-gradient(to bottom right, #1976D2, #1565C0);">
        
        <!-- Login Card -->
        <VBox styleClass="login-card" alignment="CENTER" spacing="32" maxWidth="480" style="-fx-background-color: white; -fx-background-radius: 16px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 40, 0, 0, 8); -fx-padding: 48px 56px;">
            
            <!-- Header -->
            <VBox alignment="CENTER" spacing="8">
                <Label text="ðŸŽ¯" style="-fx-font-size: 56px;"/>
                <Label text="IceFX Attendance" styleClass="login-title" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #1976D2;"/>
                <Label text="Facial Recognition Powered System" styleClass="text-muted" style="-fx-font-size: 14px;"/>
            </VBox>
            
            <Separator style="-fx-opacity: 0.1;"/>
            
            <!-- Welcome Message -->
            <VBox alignment="CENTER" spacing="4">
                <Label text="Welcome Back" style="-fx-font-size: 24px; -fx-font-weight: 600; -fx-text-fill: #1e293b;"/>
                <Label text="Sign in to access your dashboard" styleClass="text-muted"/>
            </VBox>
            
            <!-- Login Form -->
            <VBox spacing="20" prefWidth="360" maxWidth="360">
                
                <!-- User Code Field -->
                <VBox spacing="8">
                    <Label text="User Code" styleClass="form-label" style="-fx-font-weight: 600;"/>
                    <TextField fx:id="userCodeField" 
                               styleClass="form-input"
                               promptText="e.g., ADMIN001 or STU001"
                               style="-fx-pref-height: 44px; -fx-font-size: 14px;"/>
                </VBox>
                
                <!-- Password Field -->
                <VBox spacing="8">
                    <Label text="Password" styleClass="form-label" style="-fx-font-weight: 600;"/>
                    <PasswordField fx:id="passwordField" 
                                   styleClass="form-input"
                                   promptText="Enter your password"
                                   style="-fx-pref-height: 44px; -fx-font-size: 14px;"/>
                </VBox>
                
                <!-- Error Label -->
                <Label fx:id="errorLabel" 
                       styleClass="text-error"
                       wrapText="true"
                       visible="false"
                       style="-fx-padding: 12px; -fx-background-color: #fee2e2; -fx-background-radius: 8px; -fx-font-size: 13px;"/>
                
                <!-- Login Button -->
                <Button fx:id="loginButton" 
                        text="Sign In" 
                        styleClass="btn, btn-primary"
                        onAction="#handleLogin"
                        defaultButton="true"
                        maxWidth="Infinity"
                        style="-fx-pref-height: 48px; -fx-font-size: 16px; -fx-font-weight: 600;"/>
                
                <!-- Progress Indicator -->
                <StackPane>
                    <ProgressIndicator fx:id="progressIndicator" 
                                       visible="false"
                                       maxWidth="32"
                                       maxHeight="32"/>
                </StackPane>
                
            </VBox>
            
            <!-- Helpful Info Card -->
            <VBox spacing="8" styleClass="info-box" style="-fx-background-color: #f1f5f9; -fx-padding: 16px; -fx-background-radius: 8px;">
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="ðŸ’¡" style="-fx-font-size: 18px;"/>
                    <Label text="Quick Access" styleClass="text-small" style="-fx-font-weight: 600;"/>
                </HBox>
                <Label text="Admin: ADMIN001 / admin123" styleClass="text-muted" style="-fx-font-size: 12px;"/>
                <Label text="Student: STU001 / student123" styleClass="text-muted" style="-fx-font-size: 12px;"/>
            </VBox>
            
        </VBox>
        
        <!-- Footer -->
        <VBox alignment="CENTER" spacing="8" style="-fx-padding: 32px;">
            <Label text="IceFX Attendance System v2.0" style="-fx-text-fill: white; -fx-font-size: 12px; -fx-opacity: 0.9;"/>
            <HBox spacing="12" alignment="CENTER">
                <Label text="OpenCV 4.9" style="-fx-text-fill: white; -fx-font-size: 11px; -fx-opacity: 0.8;"/>
                <Label text="â€¢" style="-fx-text-fill: white; -fx-opacity: 0.8;"/>
                <Label text="JavaFX 23" style="-fx-text-fill: white; -fx-font-size: 11px; -fx-opacity: 0.8;"/>
                <Label text="â€¢" style="-fx-text-fill: white; -fx-opacity: 0.8;"/>
                <Label text="JDK 23.0.1" style="-fx-text-fill: white; -fx-font-size: 11px; -fx-opacity: 0.8;"/>
            </HBox>
        </VBox>
        
    </VBox>
    
</StackPane>
